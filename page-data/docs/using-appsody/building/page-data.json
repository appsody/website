{"componentChunkName":"component---src-templates-doc-template-js","path":"/docs/using-appsody/building/","webpackCompilationHash":"576769444b1d6b6490cd","result":{"data":{"markdownRemark":{"html":"<h1 id=\"building-your-appsody-project\"><a href=\"#building-your-appsody-project\" aria-label=\"building your appsody project permalink\" class=\"header-link-icon\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Building your Appsody project</h1>\n<p>The Appsody CLI provides the <a href=\"/docs/cli-commands/#appsody-build\">appsody build</a> command to build a <em>deployment</em> Docker image on your local Docker registry. You can then manually deploy that image to your runtime platform of choice.</p>\n<p>If you want to build <em>and</em> deploy a Docker image directly to a locally installed Kubernetes cluster that you are using for testing or staging, you might prefer to use the <a href=\"/docs/using-appsody/deploying\">appsody deploy</a> command.</p>\n<blockquote>\n<p>During local development, the Appsody CLI downloads and runs a <em>development</em> Docker image of the target runtime. This image differs slightly from the image that is used at deployment time, because it configures tools that are useful only during the development phase.</p>\n</blockquote>\n<p>The <a href=\"/docs/cli-commands/#appsody-build\">appsody build</a> command completes the following actions:</p>\n<ul>\n<li>Extracts your code and other artifacts, including a new Dockerfile, which are required to build the <em>deployment</em> image from the <em>development</em> image. These files are saved to the <code>~/.appsody/extract</code> directory.</li>\n<li>Runs a <code>docker build</code> against the Dockerfile that was extracted on the previous step to produce a <em>deployment</em> image in your local Docker registry. </li>\n<li>Generates a deployment manifest file named <code>app-deploy.yaml</code> in the project directory, if one doesnâ€™t exist already. If a deployment manifest file exists, this command updates the following entries within it: application image, labels, and annotations.</li>\n</ul>\n<blockquote>\n<p>If your project includes uppercase characters, these are converted to lowercase characters in the image name because Docker does not accept uppercase characters in image tags. Also, if your project directory includes underscore characters, those will be converted to dashes (-), because certain areas of Kubernetes are not tolerant of underscore characters.</p>\n</blockquote>\n<p>Here is an example of the output produced by the <code>appsody build</code> command on a project named <code>appsody-project</code>:</p>\n<pre><code>appsody-project$ appsody build\nExtracting project from development environment\nRunning command: docker[pull appsody/nodejs:0.2]\nRunning command: docker[run --rm --name appsody-project-extract --entrypoint /bin/bash appsody/nodejs:0.2 -c if [ -f /project/Dockerfile ]; then echo \"/project/Dockerfile\"; else find / -type f -name Dockerfile; fi]\nRunning command: docker[create --name appsody-project-extract -v /Users/mchilant/appsody-project/:/project/user-app appsody/nodejs:0.2]\nRunning command: docker[cp appsody-project-extract:/project /Users/mchilant/.appsody/extract/appsody-project]\nRunning command: docker[rm appsody-project-extract -f]\nProject extracted to /Users/mchilant/.appsody/extract/appsody-project\nRunning command: docker[build -t appsody-project -f /Users/mchilant/.appsody/extract/appsody-project/Dockerfile /Users/mchilant/.appsody/extract/appsody-project]\nBuilt docker image appsody-project\nCreated deployment manifest: /Users/mchilant/appsody-project/app-deploy.yaml\n</code></pre>\n<h2 id=\"tagging-your-application-image\"><a href=\"#tagging-your-application-image\" aria-label=\"tagging your application image permalink\" class=\"header-link-icon\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tagging your application image</h2>\n<p>To tag the built application image, use the <code>-t &#x3C;tag></code> flag along with the <code>build</code> command. The tag can be specified in the format <code>mynamespace/myrepository[:tag]</code>.</p>\n<p>For example:</p>\n<pre><code>appsody build -t &#x3C;mynamespace/myrepository[:tag]>\n</code></pre>\n<p>The application image built by <code>appsody build</code> will be tagged with the name <code>mynamespace/myrepository[:tag]</code>.</p>\n<blockquote>\n<p>If the <code>-t</code> flag is not specified, the image is tagged with the project name.</p>\n</blockquote>\n<h2 id=\"pushing-your-application-image-to-an-image-registry\"><a href=\"#pushing-your-application-image-to-an-image-registry\" aria-label=\"pushing your application image to an image registry permalink\" class=\"header-link-icon\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pushing your application image to an image registry</h2>\n<h3 id=\"pushing-to-docker-hub\"><a href=\"#pushing-to-docker-hub\" aria-label=\"pushing to docker hub permalink\" class=\"header-link-icon\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pushing to Docker Hub</h3>\n<p>To push the built application image to the Docker Hub registry, use the <code>--push</code> flag along with the <code>build</code> command.</p>\n<p>For example:</p>\n<pre><code>appsody build -t &#x3C;mynamespace/myrepository[:tag]> --push \n</code></pre>\n<p>The application image built by <code>appsody build</code> will be tagged with the name <code>mynamespace/myrepository[:tag]</code>, and pushed to the Docker Hub registry.</p>\n<blockquote>\n<p>If the <code>--push</code> flag is not specified, the image is available only on your local Docker registry.</p>\n</blockquote>\n<h3 id=\"pushing-to-a-custom-registry\"><a href=\"#pushing-to-a-custom-registry\" aria-label=\"pushing to a custom registry permalink\" class=\"header-link-icon\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pushing to a custom registry</h3>\n<p>To push the built application image to a custom registry, use the <code>--push-url &#x3C;push-url></code> flag along with the <code>build</code> command.</p>\n<blockquote>\n<p>A push is triggered when using the <code>--push-url</code> flag even if the <code>--push</code> flag is not specified.</p>\n</blockquote>\n<p>For example:</p>\n<pre><code>appsody build -t &#x3C;mynamespace/myrepository[:tag]> --push-url &#x3C;registry-url:PORT>\n</code></pre>\n<p>The application image built by <code>appsody build</code> will be tagged with the name <code>mynamespace/myrepository[:tag]</code>, and pushed to the registry at the URL that you specify with <code>&#x3C;registry-url:PORT></code>.</p>\n<blockquote>\n<p>If the <code>--push-url</code> flag is not specified, the image is pushed to DockerHub. </p>\n</blockquote>","frontmatter":{"title":"Building your Appsody project"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"pagePath":"/docs/using-appsody/building/"}}}