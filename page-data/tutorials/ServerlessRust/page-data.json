{"componentChunkName":"component---src-templates-tutorial-template-js","path":"/tutorials/ServerlessRust/","webpackCompilationHash":"ef0962491cf861be4603","result":{"data":{"markdownRemark":{"html":"<h1 id=\"serverless-rust-with-tide-appsody-and-knative\"><a href=\"#serverless-rust-with-tide-appsody-and-knative\" aria-label=\"serverless rust with tide appsody and knative permalink\" class=\"header-link-icon\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Serverless Rust with Tide, Appsody and Knative</h1>\n<h2 id=\"introduction\"><a href=\"#introduction\" aria-label=\"introduction permalink\" class=\"header-link-icon\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introduction</h2>\n<p>This tutorial was created following feedback from the <a href=\"https://us02web.zoom.us/webinar/register/rec/WN__gBLTiqLQPiDRUkzdWWXZg?meetingId=2udFNa2s0HNOQ4nnz2LRW7A4A9jqX6a81nUe__Vcz0uAmF0Mz4Yqwn_obRPTpJuz&#x26;playId=usctfrr7_zw3GoGQ5gSDC_d6W9W5K_6s13RMrKdcnUa2AiVSN1ekbrREMOrwm00F71LWvXjt14jaBZaf&#x26;action=play&#x26;_x_zm_rtaid=5uZDfWV9RYy-J3EBnxrctQ.1590833520420.dc63c5dacd2e261a888c87d88a17324b&#x26;_x_zm_rhtaid=145\">Appsody on OpenShift</a> presentation and will cover how to scaffold, then build a serverless rust application with Appsody and deploy it into a knative environment.</p>\n<h2 id=\"prerequisites\"><a href=\"#prerequisites\" aria-label=\"prerequisites permalink\" class=\"header-link-icon\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Prerequisites</h2>\n<h3 id=\"install-docker\"><a href=\"#install-docker\" aria-label=\"install docker permalink\" class=\"header-link-icon\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install Docker</h3>\n<p>The instructions for installing docker on your OS are <a href=\"https://docs.docker.com/get-docker/\">available here</a>.</p>\n<h3 id=\"install-the-appsody-cli\"><a href=\"#install-the-appsody-cli\" aria-label=\"install the appsody cli permalink\" class=\"header-link-icon\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install the Appsody CLI</h3>\n<p>Follow the <a href=\"https://appsody.dev/docs/getting-started/installation\">Installing Appsody</a> guide to install the CLI for your platform.</p>\n<h3 id=\"create-a-knative-environment\"><a href=\"#create-a-knative-environment\" aria-label=\"create a knative environment permalink\" class=\"header-link-icon\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Create a Knative Environment</h3>\n<p>Choose one of the options below to create a Knative environment.\nIf you don't have a Knative environment the quickest way to get going is to choose the <a href=\"https://cloud.ibm.com/docs/knative?topic=knative-kn-install-cli\">IBM Cloud</a> option. </p>\n<ul>\n<li>\n<p><a href=\"https://cloud.ibm.com/docs/knative?topic=knative-kn-install-cli\">Fast - Knative on IBM Cloud</a></p>\n</li>\n<li>\n<p><a href=\"https://knative.dev/v0.12-docs/install/knative-with-minikube/\">Local - Minikube</a></p>\n</li>\n<li>\n<p><a href=\"https://docs.openshift.com/container-platform/4.3/serverless/installing_serverless/installing-knative-serving.html\">Anywhere - OpenShift</a></p>\n</li>\n</ul>\n<p>You can also use the appsody build in any Knative environment if you already have one with your favourite cloud provider.</p>\n<h2 id=\"create-your-application\"><a href=\"#create-your-application\" aria-label=\"create your application permalink\" class=\"header-link-icon\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Create Your Application</h2>\n<ol>\n<li>\n<p>Open a terminal window.</p>\n</li>\n<li>\n<p>Create a directory named <strong>appsodyrusttide</strong>:</p>\n<pre><code>mkdir appsodyrusttide\n</code></pre>\n</li>\n<li>\n<p>Navigate to that directory:</p>\n<pre><code>cd appsodyrusttide\n</code></pre>\n</li>\n<li>\n<p>List the available Appsody stacks with:</p>\n<pre><code>appsody list\n</code></pre>\n<p>You should see the\n<a href=\"https://github.com/appsody/stacks/tree/master/experimental/rust-tide\">rust-tide</a>\nstack (and template) listed:</p>\n<pre><code>REPO            ID                              VERSION         TEMPLATES               DESCRIPTION\n\n...\n*experimental      rust-tide                        0.1.0       *default                    Tide web framework for Rust \n...\n</code></pre>\n</li>\n<li>\n<p>Scaffold a Rust Tide application in the current directory by using the <code>appsody init</code> command as follows:</p>\n<pre><code>appsody init experimental/rust-tide\n</code></pre>\n<p>The output should look similar to the following:</p>\n<pre><code> Running appsody init...\n Downloading rust-tide template project from experimental/rust-tide.v0.1.0.templates.default.tar.gz\n Download complete. Extracting files from /home/anton/test/appsodyrusttide/rust-tide.tar.gz\n Setting up the development environment\n Your Appsody project name has been set to appsodyrusttide\n Using local cache for image experimental/appsody/rust-tide:0.1\n Running command: docker run --rm --entrypoint /bin/bash experimental/appsody/rust-tide:0.1 -c \"find /project -type f -name .appsody-init.sh\"\n Successfully added your project to /home/anton/.appsody/project.yaml\n Your Appsody project ID has been set to 20200601194200.47030643\n Successfully initialized Appsody project with the experimental/rust-tide stack and the default template.\n</code></pre>\n<p>The most important lines to make note of are:</p>\n<pre><code>Your Appsody project name has been set to `appsodyrusttide`\n</code></pre>\n<p>and</p>\n<pre><code>Successfully initialized Appsody project with the rust-tide stack and the default template.\n</code></pre>\n</li>\n<li>\n<p>Now open this project in your favorite IDE.</p>\n</li>\n</ol>\n<ol start=\"7\">\n<li>\n<p>The basic structure of the application looks like this:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; width: 100%;margin-left: 0; max-width: 348px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ba39d20dab17d8c0f2ddeab062267945/34ea4/rust_tide_appsody_template_files_1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 102.58620689655173%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAACx0lEQVQ4y51U204TURSdF2OMJhiNckvvnencOtOW3jstvZd2aOkFCYmPxmg0FBUlSoIf4KOAMT74q8uzd2kDolJ8WFl7zjld3fuctbdkWTaazRZGo2202x1sbfUZg8EQrrsp9pro9wcYDofQdQOhUBiyrPwVkm3HUK830Gg0US5XWLRSqaLV2uA4n88LbqPb7UHT9OsFw2EZBJ/Pzz+gRdOMcjZerw9+f4DZ4/HyOdqf8h8FIxEVicQa4vEEZ0TlU7mUoaJE+BDxNP6XGAtODxGCwRCXREyYJ6MrglQmZZjN5rCx0eZyL97TTcRmGcqyDCqdxEmABP8nOxYMBoIoN9so1Jqo1Wp8h45TRDRqXfuif31lU1hHj9r8spYV47JVVZvcLWV5A0gRRYFlmkiuJVB0HJTX15k1VYUcDkMRogx5wrM1eRL/DimkmtCsBOKpHNJOBRvdoeAy/IrwYUiFX9bhDavwiNgX1i59ByOicwSCFyA9qL/GYmMPdyrPsdrdx/LmGMvuHvzDA/gGB1h0x8za7ifmx50x78lPDrHQeIW71Re4V3s5g3TfPcIj9xgPt4/R+/wT1Q/fkds/QendNxTfnkJ/9kXEZ8iOv6L58QcKb06RG5+IvTMsbB3hVus9brcPZ5A8dh7emINVIwOvXYBPxMt6Bitmlr9XjCyW9DSWtDQCMbEv1igmeKI5eKzchM8hGYaBaCyBZMzG090djPo97IwGaNWq6LltRHXxOMEAIuEg8zQmKKGrEMYWPSr61BBWMU0LmrAOxTL3r3rJEnT2WtuQ52gQpFJpHmGdjisMXp+NsHK5zH09t7EVGleGya1H3ZFOZ8TkiZ+b3J4ZfN42lOxEEk69KYyd5GxKpRIKBYfbr1gscrb0Z/P2tGSIlkvlHc6OhKhsEstksoxcLs+zcG5Bnn9iQBDTdA6ImOD3Tzlwo5J/Ac3pihP8yVrxAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"rust_tide_appsody_template_files_1.png\"\n        title=\"rust_tide_appsody_template_files_1.png\"\n        src=\"/static/ba39d20dab17d8c0f2ddeab062267945/34ea4/rust_tide_appsody_template_files_1.png\"\n        srcset=\"/static/ba39d20dab17d8c0f2ddeab062267945/34ea4/rust_tide_appsody_template_files_1.png 348w\"\n        sizes=\"(max-width: 348px) 100vw, 348px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>One important file is the Appsody configuration file for your project, .appsody-config.yaml:</p>\n<pre><code class=\"language-yaml\">project-name: appsodyrusttide\nstack: experimental/rust-tide:0.1\n</code></pre>\n<p>It defines the <code>name</code> of your project, and the stack on which it is based.</p>\n</li>\n<li>\n<p>The source code for the application is located in the <code>src</code> directory.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; width: 100%;margin-left: 0; max-width: 402px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bbb6ae30d871d0e5b8e183c884860c70/0ec92/rust_tide_appsody_template_files_2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 89.30348258706468%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAACO0lEQVQ4y5VUu3LaQBRVkaR1QWbimdjoseiBVkgIg0BIQrwfwp7JxI4LT1LkB9IlbtykTJ0PPtm7WGRsYxuKw15d3T063Jfiuhxh2MJ6fY7FYomiWAt7Lc/5fIHlcoXVqkC73YFhMJim9SIUImw2Q4zHE/R6MUajMZIkRZ7nGA5HSNMMk8lUfnQvQgqybQeWZctLUdRFHPflWa2q0DQdqqptyWo182XCmvix7TrqdY4gCNERRD1B2Il6oHem+JCEacvn16CYhg7u2PC5i37UgVd3YFRPwTQVFjMOhnLiJ9DDDPrZEDwroLdHOOYxyH8qcHIglLerWxyd/wT/dgft5jeiH39hff+Do093eLP8hXfF7UFQKvEVjpPPUIdf8HFwDTb7CnV8gw/pNSrxJd73r1ApET/G5RMopq6B2xZazQB5mmA1n2E+GcM0NFgiv4SNLcD0e9//d48hq2zdV9nlnmjgCA0/EG3kiKptKmw7dRHjgImWIT/ZtWeqrjDG0HBD+G4Lg3wgp2I6nckJoTPPh9K+uLiQDV4UBbIsk327qycVclIfUkA5NXQSPK8h/RRIdqPhyyEoL+8mZDW4oqEt8ZcnYvxopkkRjeBgkG8nhIk4ApGU2EWqUBDljpS1WmfwRf4IXPhKRc+N206FpCAMQ7kYut2e3DSUO1oQtG2IdJ+l8ECh5zfBPR++uBwETamQckaqSelrC+GhQt1AN80R9VOhKtkqpPyRQlJ9kMJNwtmTpBMJgXz7rK0S/wBXpSef9F3jpwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"rust_tide_appsody_template_files_2.png\"\n        title=\"rust_tide_appsody_template_files_2.png\"\n        src=\"/static/bbb6ae30d871d0e5b8e183c884860c70/0ec92/rust_tide_appsody_template_files_2.png\"\n        srcset=\"/static/bbb6ae30d871d0e5b8e183c884860c70/0ec92/rust_tide_appsody_template_files_2.png 402w\"\n        sizes=\"(max-width: 402px) 100vw, 402px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n</li>\n<li>\n<p>This basic application only defines one API endpoint <code>'/'</code> in the file <code>src/lib.rs</code></p>\n<pre><code class=\"language-rust\">pub fn app() -> tide::Server&#x3C;()> {    \n    let mut api = tide::new();\n    api.at(\"/\").get(|_| async move { Ok(\"Hello, world!\") });\n    api\n}\n</code></pre>\n<blockquote>\n<p>The initial application is very similar to the <a href=\"https://github.com/http-rs/tide/blob/master/examples/hello.rs\">example application</a>, but\nit's a library that is <a href=\"https://github.com/No9/rust-tide/blob/master/image/project/server/bin/src/main.rs#L5\">loaded by a server</a> at runtime. This helps reduce the cognitive noise for the developer as well as ensuring that best practices are applied in a template format.</p>\n</blockquote>\n</li>\n</ol>\n<h2 id=\"building-your-application\"><a href=\"#building-your-application\" aria-label=\"building your application permalink\" class=\"header-link-icon\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Building Your Application</h2>\n<p>The template application is only a starting point, you will now modify and build this service.</p>\n<p>Firstly, you are going to modify the endpoint so it reads an environment variable which is then returned as JSON.\nThis is based on the <a href=\"https://github.com/http-rs/tide/blob/master/examples/json.rs\">tide json example</a> but uses an environment variable rather than a <strong>POST</strong> to demonstrate some of the Knative capabilities.</p>\n<ol>\n<li>\n<p>Update the <code>Cargo.toml</code> to reference <code>serde</code> libraries. This gives our project JSON capaibilities.</p>\n<pre><code class=\"language-toml\">[dependencies]\ntide = { version = \"0.9\" }\nserde = \"1.0.102\"\nserde_json = \"1.0.41\"\n</code></pre>\n</li>\n<li>\n<p>Now we will update <code>lib.rs</code> to read the environment variable and return a <code>Cat</code> struct to the user.</p>\n<pre><code class=\"language-rust\">    use std::env;\n    use serde::{Deserialize, Serialize};\n    use tide::{Response, StatusCode};\n\n    #[derive(Deserialize, Serialize)]\n    struct Cat {\n        name: String,\n    }\n\n    pub fn app() -> tide::Server&#x3C;()> {   \n        \n        let mut api = tide::new();\n        api.at(\"/\").get(|_| async move {\n            let env_my_name = env::var(\"MY_NAME\").unwrap_or_else(|_| \"Not Provided\".to_string());\n            let cat = Cat {\n                name: env_my_name.into(),\n            };\n            Ok(Response::new(StatusCode::Ok).body_json(&#x26;cat)?)\n        });\n        api\n    }\n</code></pre>\n</li>\n<li>\n<p>Once the code changes are complete you can run the service with: </p>\n<pre><code>appsody run --docker-options \"--env MY_NAME=tibbs\"\n</code></pre>\n<blockquote>\n<p><code>--docker-options</code> passes the environment settings to the container</p>\n</blockquote>\n</li>\n<li>\n<p>The service will be available at <a href=\"http://localhost:8000/\">http://localhost:8000/</a> and accessing it in a browser will return:</p>\n<pre><code class=\"language-json\">    {\n        \"name\" : \"tibbs\"\n    }\n</code></pre>\n</li>\n<li>\n<p>Now we need to create a production build for the application. Make sure you are logged into <a href=\"https://docs.docker.com/engine/reference/commandline/login/\">docker hub</a> before running it.</p>\n<pre><code>$ appsody build -t YOUR_DOCKER_USER/appsodyrusttide:v1.0.0 --publish --knative\n</code></pre>\n</li>\n</ol>\n<h2 id=\"deploy-your-application\"><a href=\"#deploy-your-application\" aria-label=\"deploy your application permalink\" class=\"header-link-icon\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Deploy Your Application</h2>\n<p>This section will be split into three sub-sections:</p>\n<ol>\n<li>Deploy to Knative on IBM Cloud</li>\n<li>Deploy to Minikube</li>\n<li>Deploy to Openshift</li>\n</ol>\n<h3 id=\"deploy-to-knative-on-ibm-cloud\"><a href=\"#deploy-to-knative-on-ibm-cloud\" aria-label=\"deploy to knative on ibm cloud permalink\" class=\"header-link-icon\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Deploy to Knative on IBM Cloud</h3>\n<p>Ensure that you have <a href=\"https://cloud.ibm.com/docs/knative?topic=knative-manage-project#create-project-cli\">created a project for the service</a>, then run the following command:</p>\n<pre><code>$ ibmcloud coligo application create --name appsodyrusttide --image YOUR_DOCKER_USER/appsodyrusttide:v1.0.0 --env MY_NAME=tibbs\n</code></pre>\n<h3 id=\"deploy-to-minikube\"><a href=\"#deploy-to-minikube\" aria-label=\"deploy to minikube permalink\" class=\"header-link-icon\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Deploy to Minikube</h3>\n<ol>\n<li>\n<p>Create a service definition in the application folder:</p>\n<pre><code class=\"language-yaml\">apiVersion: serving.knative.dev/v1 # Current version of Knative\nkind: Service\nmetadata:\n    name: appsodyrusttide # The name of the app\n    namespace: default # The namespace the app will use\nspec:\ntemplate:\n    spec:\n    containers:\n        - image: docker.io/YOUR_DOCKER_USER/appsodyrusttide:v1.0.0 # The URL to the image of the app\n          env:\n            - name: MY_NAME # The environment variable printed out by the sample app\n              value: \"tibbs\"\n</code></pre>\n</li>\n<li>\n<p>Push the service:\n<code>$ kubectl apply --filename service.yaml</code>\n:</p>\n</li>\n</ol>\n<h3 id=\"deploy-to-openshift\"><a href=\"#deploy-to-openshift\" aria-label=\"deploy to openshift permalink\" class=\"header-link-icon\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Deploy to OpenShift</h3>\n<ol>\n<li>\n<p>Deploying to OpenShift is very straight forward and just requires: </p>\n<pre><code>$ appsody deploy --no-build --knative \n</code></pre>\n</li>\n</ol>\n<h2 id=\"validate-your-application\"><a href=\"#validate-your-application\" aria-label=\"validate your application permalink\" class=\"header-link-icon\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Validate Your Application</h2>\n<ol>\n<li>\n<p>Get the list of services using the kn cli:</p>\n<pre><code>$ kn service list\n\nNAME              URL                                                                     LATEST                     AGE    CONDITIONS   READY   REASON\nappsodyrusttide   http://appsodyrusttide.604053c7-2682.us-south.knative.appdomain.cloud   appsodyrusttide-s4lwr5-3   2d7h   3 OK / 3     True    \n</code></pre>\n</li>\n<li>\n<p>Test the URL returned in the list.</p>\n<pre><code>$ curl http://appsodyrusttide.604053c7-2682.us-south.knative.appdomain.cloud \n{\n  \"name\":\"tibbs\"  \n}\n</code></pre>\n</li>\n</ol>\n<h2 id=\"summary\"><a href=\"#summary\" aria-label=\"summary permalink\" class=\"header-link-icon\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Summary</h2>\n<p>This tutorial was a starter to get a simple service up and running. In the future there will be examples of debugging and connecting to backend systems such as databases.</p>","frontmatter":{"title":"Serverless Rust with Tide, Appsody and Knative"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"pagePath":"/tutorials/ServerlessRust/"}}}